<ul class="session-field-dropdown dropdown-menu" ng-if="$ctrl.isopen"
  ng-class="::{'pull-left':$ctrl.pullLeft, 'pull-right':!$ctrl.pullLeft}">
  <div>
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal, '==', '&&', $event)"
      title="&& {{::$ctrl.expr}} == {{::parsed.value}}">
      <a href>
        <strong>and</strong>
        {{::parsed.value}}
      </a>
    </li>
  </div>
  <div>
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal, '!=', '&&', $event)"
      title="&& {{::$ctrl.expr}} != {{::parsed.value}}">
      <a href>
        <strong>and not</strong>
        {{::parsed.value}}
      </a>
    </li>
  </div>
  <div>
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal, '==', '||', $event)"
      title="|| {{::$ctrl.expr}} == {{::parsed.value}}">
      <a href>
        <strong>or</strong>
        {{::parsed.value}}
      </a>
    </li>
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal, '!=', '||', $event)"
      title="|| {{::$ctrl.expr}} != {{::parsed.value}}">
      <a href>
        <strong>or not</strong>
        {{::parsed.value}}
      </a>
    </li>
  </div>
  <div ng-if="::($ctrl.field.portField && $ctrl.session[$ctrl.field.portField] !== undefined)">
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal + ':' + $ctrl.session[$ctrl.field.portField], '==', '&&', $event)"
      title="&& {{::$ctrl.expr}} == {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}">
      <a href>
        <strong>and</strong>
        {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}
      </a>
    </li>
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal + ':' + $ctrl.session[$ctrl.field.portField], '!=', '&&', $event)"
      title="&& {{::$ctrl.expr}} != {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}">
      <a href>
        <strong>and not</strong>
        {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}
      </a>
    </li>
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal + ':' + $ctrl.session[$ctrl.field.portField], '==', '||', $event)"
      title="|| {{::$ctrl.expr}} == {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}">
      <a href>
        <strong>or</strong>
        {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}
      </a>
    </li>
    <li ng-click="$ctrl.fieldClick($ctrl.expr, parsed.queryVal + ':' + $ctrl.session[$ctrl.field.portField], '!=', '||', $event)"
      title="|| {{::$ctrl.expr}} != {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}">
      <a href>
        <strong>or not</strong>
        {{::parsed.value}}:{{::$ctrl.session[$ctrl.field.portField]}}
      </a>
    </li>
  </div>
  <div><li class="divider"></li></div>
  <div>
    <li ng-repeat="item in ::$ctrl.menuItems track by $index"
      title="{{::item.name}} {{::item.value}}">
      <a href="{{::item.url}}" target="_blank">
        <strong>{{::item.name}}</strong> {{::item.value}}
      </a>
    </li>
  </div>
  <div ng-if="::$ctrl.sessionBtn">
    <li title="Open in Sessions with {{::$ctrl.expr}} == {{::parsed.value}} added to the search expression"
      ng-click="$ctrl.goToSessions($ctrl.expr, parsed.queryVal, '==', $event)">
      <a href>
        <span class="fa fa-folder-open-o"></span>&nbsp;
        Open Sessions
      </a>
    </li>
  </div>
  <div>
    <li title="Open in new Sessions tab with && {{::$ctrl.expr}} == {{::parsed.value}} added to the search expression"
      ng-click="$ctrl.newTabSessions($ctrl.expr, parsed.queryVal, '==', $event)">
      <a href>
        <span class="fa fa-external-link-square"></span>&nbsp;
        Open New Sessions Tab
      </a>
    </li>
  </div>
  <div>
    <li title="Copy value to clipboard" data-clipboard-text="{{::parsed.value}}"
      ngclipboard-success="$ctrl.isopen = false" ngclipboard>
      <a href>
        <span class="fa fa-clipboard"></span>&nbsp;
        Copy value
      </a>
    </li>
  </div>
</ul>
